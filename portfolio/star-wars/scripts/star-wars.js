function shuffelCards(){for(var e=gameboard.children.length;e>=0;e--)gameboard.appendChild(gameboard.children[Math.random()*e|0])}function clickCount(){clicks+=1,document.querySelector(".clicks").innerHTML=`Number of clicks: ${clicks}`}function noClick(){2===checkNumber.length&&(gameboard.classList.add("pointer-stop"),setTimeout(function(){gameboard.classList.remove("pointer-stop")},1e3)),timesUp.classList.contains("show")&&gameboard.classList.add("pointer-stop")}function checkCombo(){2===checkNumber.length&&(checkNumber[0]===checkNumber[1]?(complete[0].classList.add("complete"),complete[1].classList.add("complete"),complete=[],checkNumber=[],correct++):setTimeout(function(){complete[0].classList.remove("flipped-card"),complete[1].classList.remove("flipped-card"),checkNumber=[],complete=[]},1e3))}function playAudio(e){e.play()}function stopAudio(e){e.pause(),e.currentTime=0}const gameboard=document.querySelector(".gameboard"),cards=document.querySelectorAll(".card"),cardsArray=Array.from(cards),restart=document.querySelector(".restart"),timesUp=document.querySelector(".time-is-up"),success=document.querySelector(".success"),starwarsintro=document.querySelector(".star-wars-intro"),countDown=document.querySelector(".count-down"),newElement=document.createElement("p"),body=document.querySelector("body"),start=document.querySelector(".start"),imperial=document.querySelector(".imperial"),cantina=document.querySelector(".cantina"),ending=document.querySelector(".ending"),intro=document.querySelector(".intro");let counter=45;clickCounter=[];let clicks=0;checkNumber=[],complete=[];let correct=0;window.addEventListener("load",()=>{shuffelCards(),gameboard.classList.add("pointer-stop"),setTimeout(()=>{playAudio(intro)},2100)}),setTimeout(()=>{starwarsintro.classList.add("star-wars-intro-gone")},32e3),cardsArray.forEach(e=>{e.addEventListener("click",t=>{clickCount(),e.classList.toggle("flipped-card"),checkNumber.push(t.target.dataset.number),complete.push(e),checkCombo(),noClick(),correct===cardsArray.length/2&&(gameboard.classList.add("pointer-stop"),stopAudio(cantina),playAudio(ending),clearInterval(id),success.innerHTML=`<h2>YOU'VE BROUGHT PEACE</br>TO THE GALAXY!</br>AND IN ONLY ${clicks} CLICKS!</br></br>PRESS ME TO PLAY AGAIN!</h2>`,setTimeout(function(){success.classList.add("show")},1e3)),counter<0&&e.removeEventListener("click",function(){})})}),newElement.innerHTML=`You've got ${counter} seconds to go!`,countDown.appendChild(newElement);var id;start.addEventListener("click",()=>{playAudio(cantina),stopAudio(intro),start.classList.add("remove"),gameboard.classList.remove("pointer-stop"),id=setInterval(function(){--counter<0?(clickCounter.push(clicks),stopAudio(cantina),gameboard.classList.add("pointer-stop"),playAudio(imperial),timesUp.classList.add("show"),timesUp.classList.contains("show")&&(gameboard.classList.add("pointer-stop"),setTimeout(function(){gameboard.classList.add("pointer-stop")},100)),clearInterval(id)):newElement.innerHTML="You've got "+counter.toString()+" seconds to go!"},1e3)}),cardsArray.forEach(e=>{restart.addEventListener("click",()=>{e.classList.remove("flipped-card"),e.classList.remove("complete"),timesUp.classList.remove("show"),document.querySelector(".clicks").innerHTML="Number of clicks: 0",clearInterval(id),newElement.innerHTML="You've got "+counter.toString()+" seconds to go!",start.classList.remove("remove"),start.classList.add("show"),stopAudio(imperial),setTimeout(()=>{gameboard.classList.add("shake"),setTimeout(()=>{gameboard.classList.remove("shake")},1e3)},1e3),setTimeout(shuffelCards,500),clicks=0,complete=[],checkNumber=[],correct=0,counter=45})}),cardsArray.forEach(e=>{success.addEventListener("click",()=>{stopAudio(ending),e.classList.remove("flipped-card"),e.classList.remove("complete"),success.classList.remove("show"),document.querySelector(".clicks").innerHTML="Number of clicks: 0",clearInterval(id),newElement.innerHTML="You've got "+counter.toString()+" seconds to go!",setTimeout(()=>{start.classList.remove("remove"),start.classList.add("show")},1e3),setTimeout(()=>{gameboard.classList.add("shake"),setTimeout(()=>{gameboard.classList.remove("shake")},1e3)},1e3),setTimeout(shuffelCards,500),clicks=0,complete=[],checkNumber=[],correct=0,counter=45})});
